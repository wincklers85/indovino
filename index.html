<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>L‚ÄôIndovino</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body data-theme="dark">
<div class="app">

  <!-- Splash mistica -->
  <div class="splash" id="splashScreen">
    <div class="splash-inner">
      <div class="splash-orb">
        <div class="splash-orb-glow"></div>
        <div class="splash-orb-icon">üîÆ</div>
      </div>
      <div class="splash-title">L‚ÄôINDOVINO</div>
      <div class="splash-sub">Quiz, statistiche &amp; un pizzico di magia</div>
      <div class="splash-dots">
        <span></span><span></span><span></span>
      </div>
    </div>
  </div>

  <!-- Start modal -->
  <div class="overlay" id="startOverlay">
    <div class="modal">
      <div class="modal-title">Benvenuto in L‚ÄôIndovino</div>
      <div class="modal-sub">
        Puoi usare l‚Äôoracolo in modalit√† <strong>standard</strong> oppure creare profili
        per previsioni pi√π personalizzate.
      </div>
      <div class="modal-btns">
        <button class="btn btn-primary" id="btnStartWithProfile">Seleziona / crea profilo</button>
        <button class="btn btn-ghost" id="btnStartWithoutProfile">Continua senza profilo</button>
      </div>
    </div>
  </div>

  <!-- Topbar -->
  <header class="topbar">
    <div class="top-left">
      <div class="logo">üîÆ</div>
      <div>
        <div class="title-main">L‚ÄôIndovino</div>
        <div class="title-sub">Quiz, statistiche &amp; un pizzico di magia</div>
      </div>
    </div>
    <div class="top-right">
      <div class="chip">
        üë§ Profilo: <strong id="currentProfileLabel">Standard</strong>
      </div>
      <button class="nav-btn active" data-view="homeView"><span>üè†</span>Home</button>
      <button class="nav-btn" data-view="profilesView"><span>üë•</span>Profili</button>
      <button class="nav-btn" data-view="settingsView"><span>‚öôÔ∏è</span>Impostazioni</button>
    </div>
  </header>

  <main class="layout">
    <!-- HOME + GIOCHI -->
    <section class="card" id="homeView">
      <div class="card-header">
        <div>
          <div class="card-title"><span class="icon">‚ú®</span>Oracolo principale</div>
          <div class="card-sub">
            Scegli un esperimento: le risposte useranno il profilo attivo quando possibile.
          </div>
        </div>
        <div class="badge">Modalit√† quiz</div>
      </div>

      <div class="card-body">
        <!-- Menu giochi -->
        <div id="gamesMenu">
          <div class="games-grid">
            <div class="game-card" data-game="job">
              <div class="game-icon">üíº</div>
              <div class="game-name">Che lavoro fa per me?</div>
              <div class="game-desc">20 domande strutturate per stimare l‚Äôarea professionale pi√π adatta.</div>
              <div class="game-chip">Questionario</div>
            </div>
            <div class="game-card" data-game="kids">
              <div class="game-icon">üë∂</div>
              <div class="game-name">Quanti figli avr√≤?</div>
              <div class="game-desc">Stima ragionata combinando stile di vita e profilo familiare.</div>
              <div class="game-chip">Stima</div>
            </div>
            <div class="game-card" data-game="twentyq">
              <div class="game-icon">üß†</div>
              <div class="game-name">Indovina a cosa sto pensando</div>
              <div class="game-desc">Versione semplificata del 20 Questions con ipotesi finali.</div>
              <div class="game-chip">20Q</div>
            </div>
            <div class="game-card" data-game="magic8">
              <div class="game-icon">üé±</div>
              <div class="game-name">Magic 8 Ball</div>
              <div class="game-desc">Risposte s√¨/no con sfumature basate sulla domanda.</div>
              <div class="game-chip">Istantaneo</div>
            </div>
            <div class="game-card" data-game="tarot">
              <div class="game-icon">üÉè</div>
              <div class="game-name">Tarocchi</div>
              <div class="game-desc">3 carte: presente, sfida e possibile esito.</div>
              <div class="game-chip">Simbolico</div>
            </div>
            <div class="game-card" data-game="pendulum">
              <div class="game-icon">ü™Ñ</div>
              <div class="game-name">Pendolino</div>
              <div class="game-desc">Un s√¨/no ‚Äúoscillante‚Äù con animazione del pendolo.</div>
              <div class="game-chip">Pendolo</div>
            </div>
            <div class="game-card" data-game="life">
              <div class="game-icon">‚ù§Ô∏è</div>
              <div class="game-name">Aspettativa di vita</div>
              <div class="game-desc">Mini questionario con stima indicativa (non medica!).</div>
              <div class="game-chip">Longevit√†</div>
            </div>
            <div class="game-card" data-game="where">
              <div class="game-icon">üìç</div>
              <div class="game-name">Dove vivr√≤ tra 10 anni?</div>
              <div class="game-desc">Mare, montagna, citt√† o estero? Stima in base al tuo stile di vita.</div>
              <div class="game-chip">Futuro</div>
            </div>
            <div class="game-card" data-game="luck">
              <div class="game-icon">‚≠ê</div>
              <div class="game-name">Fortuna della settimana</div>
              <div class="game-desc">Indice di fortuna da 1 a 10, rigenerato ogni settimana.</div>
              <div class="game-chip">Settimana</div>
            </div>
          </div>
        </div>

        <!-- GAME: LAVORO -->
        <div class="game-view hidden" id="gameJob">
          <div class="breadcrumbs"><strong>L‚ÄôIndovino</strong> ¬∑ Che lavoro fa per me?</div>
          <div class="row-inline" style="margin-top:4px;">
            <div class="pill-info">Questionario di 20 domande, combinato con et√†, famiglia e zona.</div>
            <button class="btn btn-ghost btn-sm" data-back="job">‚¨Ö Torna ai giochi</button>
          </div>
          <div class="question-card" id="jobQuestionBox"></div>
          <div class="result-box hidden" id="jobResult"></div>
        </div>

        <!-- GAME: FIGLI -->
        <div class="game-view hidden" id="gameKids">
          <div class="breadcrumbs"><strong>L‚ÄôIndovino</strong> ¬∑ Quanti figli avr√≤?</div>
          <div class="row-inline" style="margin-top:4px;">
            <div class="pill-info">Stima probabilistica, NON una profezia. Usa profilo + 10 domande.</div>
            <button class="btn btn-ghost btn-sm" data-back="kids">‚¨Ö Torna ai giochi</button>
          </div>
          <div class="question-card" id="kidsQuestionBox"></div>
          <div class="result-box hidden" id="kidsResult"></div>
        </div>

        <!-- GAME: 20Q -->
        <div class="game-view hidden" id="gameTwentyQ">
          <div class="breadcrumbs"><strong>L‚ÄôIndovino</strong> ¬∑ Indovina a cosa sto pensando</div>
          <div class="row-inline" style="margin-top:4px;">
            <div class="pill-info">Pensa a una cosa comune (cane, auto, pizza...) e rispondi alle domande.</div>
            <button class="btn btn-ghost btn-sm" data-back="twentyq">‚¨Ö Torna ai giochi</button>
          </div>
          <div class="question-card" id="twentyQBox"></div>
          <div class="result-box hidden" id="twentyQResult"></div>
        </div>

        <!-- GAME: MAGIC 8 -->
        <div class="game-view hidden" id="gameMagic8">
          <div class="breadcrumbs"><strong>L‚ÄôIndovino</strong> ¬∑ Magic 8 Ball</div>
          <div class="row-inline" style="margin-top:4px;">
            <div class="pill-info">Fai una domanda chiusa (s√¨/no). L‚Äôoracolo risponde.</div>
            <button class="btn btn-ghost btn-sm" data-back="magic8">‚¨Ö Torna ai giochi</button>
          </div>
          <div class="two-cols">
            <div>
              <div class="form-group">
                <label>La tua domanda</label>
                <textarea id="magic8Question" class="textarea" rows="3"
                  placeholder="Esempio: &quot;Nei prossimi 2 anni cambier√≤ lavoro?&quot;"></textarea>
              </div>
              <div class="row-inline">
                <button class="btn btn-primary btn-sm" id="magic8Ask">Chiedi alla sfera üé±</button>
                <button class="btn btn-ghost btn-sm" id="magic8Clear">Pulisci</button>
              </div>
              <div class="result-box hidden" id="magic8Text"></div>
            </div>
            <div class="card mini-card">
              <div class="card-title mini-title">Sfera di previsione</div>
              <div class="card-sub mini-sub">Risposta sintetica, con un accenno al tuo profilo quando possibile.</div>
              <div class="ball">
                <div class="ball-inner" id="magic8Inner">Fai<br>una domanda</div>
              </div>
            </div>
          </div>
        </div>

        <!-- GAME: TAROCCHI -->
        <div class="game-view hidden" id="gameTarot">
          <div class="breadcrumbs"><strong>L‚ÄôIndovino</strong> ¬∑ Tarocchi</div>
          <div class="row-inline" style="margin-top:4px;">
            <div class="pill-info">3 carte: Presente ¬∑ Sfida ¬∑ Possibile esito. Lettura simbolica.</div>
            <button class="btn btn-ghost btn-sm" data-back="tarot">‚¨Ö Torna ai giochi</button>
          </div>
          <div class="row-inline" style="margin-top:6px;">
            <button class="btn btn-primary btn-sm" id="tarotDraw">Pesca le carte</button>
            <button class="btn btn-ghost btn-sm" id="tarotReset">Azzera lettura</button>
          </div>
          <div class="result-box hidden" id="tarotResult"></div>
        </div>

        <!-- GAME: PENDOLINO -->
        <div class="game-view hidden" id="gamePendulum">
          <div class="breadcrumbs"><strong>L‚ÄôIndovino</strong> ¬∑ Pendolino</div>
          <div class="row-inline" style="margin-top:4px;">
            <div class="pill-info">Scrivi una domanda chiusa e guarda dove oscilla il pendolo.</div>
            <button class="btn btn-ghost btn-sm" data-back="pendulum">‚¨Ö Torna ai giochi</button>
          </div>
          <div class="two-cols">
            <div>
              <div class="form-group">
                <label>Domanda per il pendolo</label>
                <textarea id="pendQuestion" class="textarea" rows="3"
                  placeholder="Esempio: &quot;Dovrei accettare quel nuovo lavoro?&quot;"></textarea>
              </div>
              <div class="row-inline">
                <button class="btn btn-primary btn-sm" id="pendAsk">Consulta il pendolo ü™Ñ</button>
                <button class="btn btn-ghost btn-sm" id="pendClear">Pulisci</button>
              </div>
              <div class="result-box hidden" id="pendResult"></div>
            </div>
            <div class="card mini-card">
              <div class="card-title mini-title">Pendolo</div>
              <div class="card-sub mini-sub">Oscillazione verso S√å, NO o FORSE (solo per gioco).</div>
              <div class="pendulum-wrap">
                <div class="pendulum-line" id="pendLine"></div>
                <div class="pendulum-bob" id="pendBob">?</div>
              </div>
            </div>
          </div>
        </div>

        <!-- GAME: ASPETTATIVA DI VITA -->
        <div class="game-view hidden" id="gameLife">
          <div class="breadcrumbs"><strong>L‚ÄôIndovino</strong> ¬∑ Aspettativa di vita</div>
          <div class="row-inline" style="margin-top:4px;">
            <div class="pill-info">Indicazione statistica orientativa. NON √® un parere medico.</div>
            <button class="btn btn-ghost btn-sm" data-back="life">‚¨Ö Torna ai giochi</button>
          </div>
          <div class="question-card" id="lifeBox"></div>
          <div class="result-box hidden" id="lifeResult"></div>
        </div>

        <!-- GAME: DOVE VIVR√í -->
        <div class="game-view hidden" id="gameWhere">
          <div class="breadcrumbs"><strong>L‚ÄôIndovino</strong> ¬∑ Dove vivr√≤ tra 10 anni?</div>
          <div class="row-inline" style="margin-top:4px;">
            <div class="pill-info">Stima basata su profilo + 4 domande veloci.</div>
            <button class="btn btn-ghost btn-sm" data-back="where">‚¨Ö Torna ai giochi</button>
          </div>
          <div class="question-card" id="whereBox"></div>
          <div class="result-box hidden" id="whereResult"></div>
        </div>

        <!-- GAME: FORTUNA SETTIMANA -->
        <div class="game-view hidden" id="gameLuck">
          <div class="breadcrumbs"><strong>L‚ÄôIndovino</strong> ¬∑ Fortuna della settimana</div>
          <div class="row-inline" style="margin-top:4px;">
            <div class="pill-info">Indice da 1 a 10 calcolato in base al profilo e alla settimana corrente.</div>
            <button class="btn btn-ghost btn-sm" data-back="luck">‚¨Ö Torna ai giochi</button>
          </div>
          <div class="result-box" id="luckBox"></div>
        </div>
      </div>
    </section>

    <!-- PROFILI -->
    <section class="card hidden" id="profilesView">
      <div class="card-header">
        <div>
          <div class="card-title"><span class="icon">üë•</span>Profili</div>
          <div class="card-sub">Fino a 5 profili salvati in locale. Nessun dato lascia il dispositivo.</div>
        </div>
        <div class="badge" id="profilesBadge">0 / 5</div>
      </div>

      <div class="card-body">
        <div class="profiles-list" id="profilesList"></div>
        <div class="empty-text hidden" id="profilesEmpty">
          Nessun profilo. Puoi sempre usare L‚ÄôIndovino in modalit√† standard.
        </div>

        <hr />

        <div class="card-title small-title">Crea / modifica profilo</div>

        <div class="form-grid">
          <div class="form-group">
            <label>Nome</label>
            <input id="pfNome" class="input" placeholder="Mario" />
          </div>
          <div class="form-group">
            <label>Cognome</label>
            <input id="pfCognome" class="input" placeholder="Rossi" />
          </div>
          <div class="form-group">
            <label>Data di nascita</label>
            <input id="pfDob" class="input" type="date" />
          </div>
          <div class="form-group">
            <label>Sesso</label>
            <select id="pfSesso" class="select">
              <option value="">Seleziona...</option>
              <option value="M">Maschio</option>
              <option value="F">Femmina</option>
              <option value="X">Altro / Non specifico</option>
            </select>
          </div>
          <div class="form-group">
            <label>Sposato/a</label>
            <select id="pfSposato" class="select">
              <option value="">Seleziona...</option>
              <option value="si">S√¨</option>
              <option value="no">No</option>
            </select>
          </div>
          <div class="form-group">
            <label>Hai figli?</label>
            <select id="pfHaFigli" class="select">
              <option value="">Seleziona...</option>
              <option value="si">S√¨</option>
              <option value="no">No</option>
            </select>
          </div>
          <div class="form-group">
            <label>Quanti figli</label>
            <input id="pfNumFigli" type="number" min="0" class="input" />
          </div>
          <div class="form-group">
            <label>Guida (patente/veicolo)?</label>
            <select id="pfGuida" class="select">
              <option value="">Seleziona...</option>
              <option value="si">S√¨</option>
              <option value="no">No</option>
            </select>
          </div>
          <div class="form-group">
            <label>Animali domestici</label>
            <select id="pfAnimali" class="select">
              <option value="">Seleziona...</option>
              <option value="si">S√¨</option>
              <option value="no">No</option>
            </select>
          </div>
          <div class="form-group">
            <label>Lavori?</label>
            <select id="pfLavora" class="select">
              <option value="">Seleziona...</option>
              <option value="si">S√¨</option>
              <option value="no">No</option>
              <option value="studio">Studio</option>
            </select>
          </div>
          <div class="form-group">
            <label>Casa</label>
            <select id="pfCasa" class="select">
              <option value="">Seleziona...</option>
              <option value="proprieta">Di propriet√†</option>
              <option value="affitto">In affitto</option>
              <option value="altro">Altro</option>
            </select>
          </div>
          <div class="form-group">
            <label>Dove vivi?</label>
            <select id="pfZona" class="select">
              <option value="">Seleziona...</option>
              <option value="mare">Mare</option>
              <option value="montagna">Montagna</option>
              <option value="citta">Citt√†/pianura</option>
            </select>
          </div>
          <div class="form-group">
            <label>Vuoi trasferirti entro 7 anni?</label>
            <select id="pfTrasferirsi" class="select">
              <option value="">Seleziona...</option>
              <option value="si">S√¨</option>
              <option value="no">No</option>
              <option value="forse">Forse</option>
            </select>
          </div>
          <div class="form-group">
            <label>Ti piace dove vivi?</label>
            <select id="pfPiaceZona" class="select">
              <option value="">Seleziona...</option>
              <option value="si">S√¨, molto</option>
              <option value="abbastanza">Abbastanza</option>
              <option value="cosi">Cos√¨ cos√¨</option>
              <option value="no">No</option>
            </select>
          </div>
        </div>

        <div class="row-inline">
          <button class="btn btn-primary btn-sm" id="saveProfileBtn">üíæ Salva profilo</button>
          <button class="btn btn-ghost btn-sm" id="clearProfileFormBtn">Pulisci modulo</button>
          <button class="btn btn-ghost btn-sm" id="noProfileBtn">Usa modalit√† standard</button>
        </div>
      </div>
    </section>

    <!-- IMPOSTAZIONI -->
    <section class="card hidden" id="settingsView">
      <div class="card-header">
        <div>
          <div class="card-title"><span class="icon">‚öôÔ∏è</span>Impostazioni &amp; storico</div>
          <div class="card-sub">Tema dell‚Äôoracolo e risultati delle sessioni.</div>
        </div>
        <div class="badge">Tema &amp; log</div>
      </div>

      <div class="card-body">
        <div class="card-title small-title">Tema</div>
        <div class="card-sub">Scegli uno dei temi. L‚Äôimpostazione resta salvata sul dispositivo.</div>

        <div class="theme-row" id="themeRow">
          <button class="theme-pill" data-theme="dark">
            <div class="dot dot-dark"></div>Scuro
          </button>
          <button class="theme-pill" data-theme="light">
            <div class="dot dot-light"></div>Chiaro
          </button>
          <button class="theme-pill" data-theme="red">
            <div class="dot dot-red"></div>Rosso
          </button>
          <button class="theme-pill" data-theme="blue">
            <div class="dot dot-blue"></div>Azzurro
          </button>
          <button class="theme-pill" data-theme="green">
            <div class="dot dot-green"></div>Verde
          </button>
        </div>

        <hr />

        <div class="card-title small-title">Storico risultati</div>
        <div class="card-sub">Ultime sessioni dell‚Äôoracolo (max 50). Utile per vedere come cambiano le risposte.</div>

        <div class="history-list" id="historyList"></div>

        <div class="row-inline">
          <button class="btn btn-ghost btn-sm" id="clearHistoryBtn">Pulisci storico</button>
        </div>
      </div>
    </section>
  </main>
</div>

<script src="script.js"></script>
</body>
</html>
